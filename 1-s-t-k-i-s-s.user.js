// ==UserScript==
// @name         1-s-t-k-i-s-s
// @namespace    https://github.com/djy6y93b8e/hoa_danh_la_2/raw/main/1-s-t-k-i-s-s.user.js
// @version      2023.09.03
// @description  down 1-s-t-k-i-s-s
// @author       You
// @match        https://1stkissmanga.me/manga/*/*/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=1stkissmanga.me
// @require      https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js
// @grant        none
// @downloadURL  https://github.com/djy6y93b8e/hoa_danh_la_2/raw/main/1-s-t-k-i-s-s.user.js
// @updateURL    https://github.com/djy6y93b8e/hoa_danh_la_2/raw/main/1-s-t-k-i-s-s.meta.js
// ==/UserScript==

(function(_0x47391c,_0x5961a9){const _0x2769b0=a0_0x287f,_0x446e9c=_0x47391c();while(!![]){try{const _0x3af374=parseInt(_0x2769b0(0x1e6))/0x1+-parseInt(_0x2769b0(0x1e4))/0x2*(-parseInt(_0x2769b0(0x221))/0x3)+-parseInt(_0x2769b0(0x1ff))/0x4+parseInt(_0x2769b0(0x218))/0x5+-parseInt(_0x2769b0(0x1f8))/0x6+-parseInt(_0x2769b0(0x1e3))/0x7*(parseInt(_0x2769b0(0x210))/0x8)+parseInt(_0x2769b0(0x20f))/0x9;if(_0x3af374===_0x5961a9)break;else _0x446e9c['push'](_0x446e9c['shift']());}catch(_0x3ee550){_0x446e9c['push'](_0x446e9c['shift']());}}}(a0_0x42b9,0x655e8));let downloading_current=0x0,downloading_total=0x0;function a0_0x42b9(){const _0x2d8674=['boxShadow','absolute','link','Anonymous','0.2rem\x20solid\x20#167975','fontFamily','rel','483EqATmx','2HWRsUe','stylesheet','362557meSosH','firstChild','src','Failed\x20to\x20load\x20image','status-num','1rem','borderRadius','border','canvas','img[id]','toBlob','alignItems','padding','body','left','top','translate(-50%)','1.5rem','3738072ZBZyQy','style','innerHTML','center','head','https://fonts.googleapis.com/css2?family=Acme&display=swap','flex','11500BwZziQ','50vw','error','textContent','getContext','crossOrigin','height','transform','.25rem\x20.4rem\x20#2E8B87','position','image/jpeg','className','.status-num','drawImage','https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','status','2429532hgbNed','62184korzCb','pointer','padStart','10000','3rem','width','\x20/\x20','length','962210IakaqO','map','#FD7377','none','click','createElement','cursor','appendChild','div','2257455nWknpY','display','href','0.5rem','fontSize','load','color','gap','querySelector','addEventListener','justifyContent','insertBefore','zIndex','setAttribute'];a0_0x42b9=function(){return _0x2d8674;};return a0_0x42b9();}function a0_0x287f(_0x4cc4c7,_0x4897cf){const _0x42b9ac=a0_0x42b9();return a0_0x287f=function(_0x287fdd,_0x431fc3){_0x287fdd=_0x287fdd-0x1d3;let _0x36334f=_0x42b9ac[_0x287fdd];return _0x36334f;},a0_0x287f(_0x4cc4c7,_0x4897cf);}function sleep(_0x226b36){return new Promise(_0x26ddd6=>setTimeout(_0x26ddd6,_0x226b36));}const load_image=_0x4fd08e=>new Promise((_0x149399,_0x3b16e4)=>{const _0x2519e3=a0_0x287f,_0x2d784f=new Image();_0x2d784f[_0x2519e3(0x1d7)](_0x2519e3(0x1d3),()=>{_0x149399(_0x2d784f);}),_0x2d784f[_0x2519e3(0x1d7)](_0x2519e3(0x201),()=>{const _0x37fba1=_0x2519e3;_0x3b16e4(new Error(_0x37fba1(0x1e9)));}),_0x2d784f[_0x2519e3(0x1e8)]=_0x4fd08e,_0x2d784f[_0x2519e3(0x204)]=_0x2519e3(0x1df);}),download_not_encrypted=async(_0x4a2e84,_0x1e8c26)=>{const _0x3122df=a0_0x287f,_0x41b816=await load_image(_0x4a2e84[_0x3122df(0x1e8)]),_0x423bb2=document[_0x3122df(0x21d)](_0x3122df(0x1ee));_0x423bb2[_0x3122df(0x215)]=_0x41b816['naturalWidth'],_0x423bb2[_0x3122df(0x205)]=_0x41b816['naturalHeight'];const _0x4a0a30=_0x423bb2[_0x3122df(0x203)]('2d');_0x4a0a30[_0x3122df(0x20c)](_0x41b816,0x0,0x0),_0x423bb2[_0x3122df(0x1f0)](_0x4bf5d1=>{const _0x1c0446=_0x3122df;saveAs(_0x4bf5d1,(''+(_0x1e8c26+0x1))[_0x1c0446(0x212)](0x3,'0')+'.jpg'),downloading_current+=0x1,update_status();},_0x3122df(0x209),0.97);};function update_status(){const _0x32c97c=a0_0x287f;document[_0x32c97c(0x1d6)](_0x32c97c(0x20b))[_0x32c97c(0x1f9)]['display']='block',document[_0x32c97c(0x1d6)](_0x32c97c(0x20b))[_0x32c97c(0x1fa)]=downloading_current+_0x32c97c(0x216)+downloading_total;}function create_status_box(){const _0x48fa4d=a0_0x287f;let _0x17fb6a=document[_0x48fa4d(0x21d)](_0x48fa4d(0x220));return _0x17fb6a[_0x48fa4d(0x20a)]=_0x48fa4d(0x1ea),_0x17fb6a[_0x48fa4d(0x202)]=downloading_current+_0x48fa4d(0x216)+downloading_total,_0x17fb6a;}function create_download_icon(){const _0x10bba5=a0_0x287f;let _0x219ea2=document[_0x10bba5(0x21d)](_0x10bba5(0x220)),_0xe5dec0=document[_0x10bba5(0x21d)]('img');_0xe5dec0[_0x10bba5(0x1db)](_0x10bba5(0x1e8),_0x10bba5(0x20d)),_0xe5dec0[_0x10bba5(0x1f9)][_0x10bba5(0x215)]=_0x10bba5(0x214),_0xe5dec0[_0x10bba5(0x1f9)][_0x10bba5(0x21e)]=_0x10bba5(0x211),_0x219ea2[_0x10bba5(0x21f)](_0xe5dec0);let _0x2bc019=document[_0x10bba5(0x21d)](_0x10bba5(0x1de));_0x2bc019[_0x10bba5(0x1e2)]=_0x10bba5(0x1e5),_0x2bc019[_0x10bba5(0x223)]=_0x10bba5(0x1fd),document['getElementsByTagName'](_0x10bba5(0x1fc))[0x0]['appendChild'](_0x2bc019);let _0x3a9b50=document['createElement']('div');_0x3a9b50['className']=_0x10bba5(0x20e),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x222)]=_0x10bba5(0x1fe),_0x3a9b50['style'][_0x10bba5(0x1d8)]=_0x10bba5(0x1fb),_0x3a9b50['style'][_0x10bba5(0x1f1)]=_0x10bba5(0x1fb),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x1d5)]=_0x10bba5(0x1f7),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x208)]=_0x10bba5(0x1dd),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x1da)]=_0x10bba5(0x213),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x1f5)]=_0x10bba5(0x224),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x1f4)]=_0x10bba5(0x200),_0x3a9b50[_0x10bba5(0x1f9)][_0x10bba5(0x206)]=_0x10bba5(0x1f6);let _0xc2560c=create_status_box();_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x1e1)]='\x27Acme\x27,\x20sans-serif',_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x225)]='3rem',_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x1d4)]=_0x10bba5(0x21a),_0xc2560c[_0x10bba5(0x1f9)]['webkitTextStroke']='1px\x20#C62428',_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x1ed)]=_0x10bba5(0x1e0),_0xc2560c['style'][_0x10bba5(0x1ec)]=_0x10bba5(0x1eb),_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x1f2)]='0\x202rem',_0xc2560c[_0x10bba5(0x1f9)]['backgroundColor']='#F9FDFD',_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x1dc)]=_0x10bba5(0x207),_0xc2560c[_0x10bba5(0x1f9)][_0x10bba5(0x222)]=_0x10bba5(0x21b),_0x3a9b50[_0x10bba5(0x21f)](_0x219ea2),_0x3a9b50['appendChild'](_0xc2560c);let _0x3cac9f=document[_0x10bba5(0x1d6)](_0x10bba5(0x1f3)),_0x46e96c=_0x3cac9f[_0x10bba5(0x1e7)];return _0x3cac9f[_0x10bba5(0x1d9)](_0x3a9b50,_0x46e96c),_0x3a9b50;}const throttlePromises=async(_0x34ec61,_0x23e7e8)=>{const _0x13efe2=a0_0x287f;while(_0x34ec61[_0x13efe2(0x217)]>0x0){await Promise['all'](_0x34ec61['splice'](0x0,_0x23e7e8)['map'](_0x1ef870=>_0x1ef870())),await sleep(0xc8);}};((async()=>{const _0x1599ab=a0_0x287f,_0x2c3914=[...jQuery(_0x1599ab(0x1ef))];if(_0x2c3914['length']>0x0){downloading_total=_0x2c3914[_0x1599ab(0x217)];const _0x2a824e=create_download_icon();_0x2a824e[_0x1599ab(0x1d7)](_0x1599ab(0x21c),async()=>{const _0x528edb=_0x1599ab;downloading_current=0x0;const _0x3cfff8=_0x2c3914[_0x528edb(0x219)]((_0xf16689,_0x7b4bf2)=>()=>download_not_encrypted(_0xf16689,_0x7b4bf2));await throttlePromises(_0x3cfff8,0x1);});}})());